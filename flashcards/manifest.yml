modules:

  confluence:contentAction:
    - key: content-action-menu-flashcards
      resource: main
      resolver:
        function: resolver
      viewportSize: medium
      title: FLASH - Create A Flashcard

  confluence:globalPage:
    - key: flashcard-global-page
      resource: main
      resolver:
        function: resolver
      title: FLASH - Home
      route: flashcard-global-page

  confluence:contextMenu:
    - key: flashcard-context-menu
      resource: main
      resolver:
        function: resolver
      #keep viewport size as large until we can figure out how to make the modal bigger
      viewportSize: large
      title: FLASH - Create Flashcard(s) (AI Generation)
  
  confluence:contentBylineItem:
    - key: flashcard-content-byline
      resource: main
      resolver:
        function: resolver
      #keep viewport size as large until we can figure out how to make the modal bigger
      viewportSize: large
      title: FLASH - Create Flashcard(s) with whole page (AI Generation)

  consumer:
    - key: queue-consumer
      # Name of the queue for which this consumer will be invoked
      queue: flashcard-generation
      resolver:
        function: resolver
        # resolver function to be called with payload
        method: event-listener

  function:
    - key: resolver
      handler: index.handler
      # timeoutSeconds: 600 # for example



resources:

  - key: main
    path: frontend/build



permissions:

  scopes:
    - read:confluence-content.summary
    - write:confluence-content
    - storage:app
    - read:confluence-user
    - read:user:confluence
    - read:content-details:confluence
    - read:user:confluence
    - read:page:confluence

  content:
    styles:
      - 'unsafe-inline'

  external:
    fetch:
      backend:
        - marlin-excited-gibbon.ngrok-free.app



app:

  id: ari:cloud:ecosystem::app/61ace610-ef8d-4591-9283-afd839ca356c

  runtime:
    name: nodejs20.x

  # storage:

